"use strict";(self.webpackChunkdelixia=self.webpackChunkdelixia||[]).push([["5393"],{81226:function(t,s,e){e.d(s,{x:()=>a});var i=e(54520),u=e(12737),o=e(14581);class a extends i.Pd{constructor(t,s){super(t,s,3),this._analyzer=null}get analyzer(){return this._analyzer??(this._analyzer=new o.fG(this._subGraph))}get volume(){return(0,u.gB)(this._subGraph,"volume")}set volume(t){let s=(0,u.nP)(this._subGraph);if(!s)throw Error("No volume subnode");s.volume=t}dispose(){super.dispose(),this._analyzer?.dispose(),this._analyzer=null,this._subGraph.dispose()}}},27502:function(t,s,e){e.r(s),e.d(s,{_WebAudioBus:()=>h});var i=e(81226);class u extends i.x{constructor(t,s){super(t,s),this._outBus=null,this._onOutBusDisposed=()=>{this.outBus=this.engine.defaultMainBus}}get outBus(){return this._outBus}set outBus(t){if(this._outBus!==t){if(this._outBus&&(this._outBus.onDisposeObservable.removeCallback(this._onOutBusDisposed),!this._disconnect(this._outBus)))throw Error("Disconnect failed");if(this._outBus=t,this._outBus&&(this._outBus.onDisposeObservable.add(this._onOutBusDisposed),!this._connect(this._outBus)))throw Error("Connect failed")}}dispose(){super.dispose(),this._outBus=null}}var o=e(61934),a=e(78220),n=e(60419),r=e(7701);class h extends u{constructor(t,s,e){super(t,s),this._spatial=null,this._spatialAutoUpdate=!0,this._spatialMinUpdateTime=0,this._stereo=null,"boolean"==typeof e.spatialAutoUpdate&&(this._spatialAutoUpdate=e.spatialAutoUpdate),"number"==typeof e.spatialMinUpdateTime&&(this._spatialMinUpdateTime=e.spatialMinUpdateTime),this._subGraph=new h._SubGraph(this)}async _init(t){t.outBus?this.outBus=t.outBus:(await this.engine.isReadyPromise,this.outBus=this.engine.defaultMainBus),await this._subGraph.init(t),(0,o.xe)(t)&&this._initSpatialProperty(),this.engine._addNode(this)}dispose(){super.dispose(),this._spatial=null,this._stereo=null,this.engine._removeNode(this)}get _inNode(){return this._subGraph._inNode}get _outNode(){return this._subGraph._outNode}get spatial(){return this._spatial?this._spatial:this._initSpatialProperty()}get stereo(){return this._stereo??(this._stereo=new a.D(this._subGraph))}getClassName(){return"_WebAudioBus"}_connect(t){return!!super._connect(t)&&(t._inNode&&this._outNode?.connect(t._inNode),!0)}_disconnect(t){return!!super._disconnect(t)&&(t._inNode&&this._outNode?.disconnect(t._inNode),!0)}_initSpatialProperty(){return this._spatial||(this._spatial=new r.u(this._subGraph,this._spatialAutoUpdate,this._spatialMinUpdateTime)),this._spatial}}h._SubGraph=class extends n.C{get _downstreamNodes(){return this._owner._downstreamNodes??null}get _upstreamNodes(){return this._owner._upstreamNodes??null}}}}]);