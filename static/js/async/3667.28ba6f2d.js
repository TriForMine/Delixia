"use strict";(self.webpackChunkdelixia=self.webpackChunkdelixia||[]).push([["3667"],{13622:function(t,e,r){r.r(e),r.d(e,{FlowGraphCrossBlock:()=>V,FlowGraphDotBlock:()=>p,FlowGraphLengthBlock:()=>h,FlowGraphNormalizeBlock:()=>u,FlowGraphRotate2DBlock:()=>m,FlowGraphRotate3DBlock:()=>d,FlowGraphTransformBlock:()=>F,FlowGraphTransformCoordinatesBlock:()=>g});var o=r(5114),s=r(16118),a=r(35011),c=r(25163),l=r(58098),i=r(39547),n=r(56261);class h extends c.p{constructor(t){super(o.s8,o.ab,t=>this._polymorphicLength(t),"FlowGraphLengthBlock",t)}_polymorphicLength(t){switch((0,n.Vj)(t)){case"Vector2":case"Vector3":case"Vector4":case"Quaternion":return t.length();default:throw Error(`Cannot compute length of value ${t}`)}}}(0,s.H7)("FlowGraphLengthBlock",h);class u extends c.p{constructor(t){super(o.s8,o.s8,t=>this._polymorphicNormalize(t),"FlowGraphNormalizeBlock",t)}_polymorphicNormalize(t){let e;switch((0,n.Vj)(t)){case"Vector2":case"Vector3":case"Vector4":case"Quaternion":return e=t.normalizeToNew(),this.config?.nanOnZeroLength&&0===t.length()&&e.setAll(NaN),e;default:throw Error(`Cannot normalize value ${t}`)}}}(0,s.H7)("FlowGraphNormalizeBlock",u);class p extends a.V{constructor(t){super(o.s8,o.s8,o.ab,(t,e)=>this._polymorphicDot(t,e),"FlowGraphDotBlock",t)}_polymorphicDot(t,e){switch((0,n.Vj)(t)){case"Vector2":case"Vector3":case"Vector4":case"Quaternion":return t.dot(e);default:throw Error(`Cannot get dot product of ${t} and ${e}`)}}}(0,s.H7)("FlowGraphDotBlock",p);class V extends a.V{constructor(t){super(o.FO,o.FO,o.FO,(t,e)=>l.P.Cross(t,e),"FlowGraphCrossBlock",t)}}(0,s.H7)("FlowGraphCrossBlock",V);class m extends a.V{constructor(t){super(o.rh,o.ab,o.rh,(t,e)=>l.FM.Transform(t,l.y3.RotationZ(e)),"FlowGraphRotate2DBlock",t)}}(0,s.H7)("FlowGraphRotate2DBlock",m);class d extends i.o{constructor(t){super(o.FO,o.FO,o.ab,o.FO,(t,e,r)=>l.P.TransformCoordinates(t,l.y3.RotationAxis(e,r)),"FlowGraphRotate3DBlock",t)}}function w(t,e){switch((0,n.Vj)(t)){case"Vector2":case"Vector3":return e.transformVector(t);case"Vector4":return new l.Lt(t.x*e.m[0]+t.y*e.m[1]+t.z*e.m[2]+t.w*e.m[3],t.x*e.m[4]+t.y*e.m[5]+t.z*e.m[6]+t.w*e.m[7],t.x*e.m[8]+t.y*e.m[9]+t.z*e.m[10]+t.w*e.m[11],t.x*e.m[12]+t.y*e.m[13]+t.z*e.m[14]+t.w*e.m[15]);default:throw Error(`Cannot transform value ${t}`)}}(0,s.H7)("FlowGraphRotate3DBlock",d);class F extends a.V{constructor(t){let e=t?.vectorType||"Vector3";super((0,o._M)(e),(0,o._M)("Vector2"===e?"Matrix2D":"Vector3"===e?"Matrix3D":"Matrix"),(0,o._M)(e),w,"FlowGraphTransformVectorBlock",t)}}(0,s.H7)("FlowGraphTransformVectorBlock",F);class g extends a.V{constructor(t){super(o.FO,o.WT,o.FO,(t,e)=>l.P.TransformCoordinates(t,e),"FlowGraphTransformCoordinatesBlock",t)}}(0,s.H7)("FlowGraphTransformCoordinatesBlock",g)},35011:function(t,e,r){r.d(e,{V:()=>s});var o=r(46954);class s extends o.D{constructor(t,e,r,o,s,a){super(r,a),this._operation=o,this._className=s,this.a=this.registerDataInput("a",t),this.b=this.registerDataInput("b",e)}_doOperation(t){let e=this.a.getValue(t),r=this.b.getValue(t);return this._operation(e,r)}getClassName(){return this._className}}},46954:function(t,e,r){r.d(e,{D:()=>l});var o=r(98729),s=r(5114);let a="cachedOperationValue",c="cachedExecutionId";class l extends o.A{constructor(t,e){super(e),this.value=this.registerDataOutput("value",t),this.isValid=this.registerDataOutput("isValid",s.PE)}_updateOutputs(t){let e=t._getExecutionVariable(this,c,-1),r=t._getExecutionVariable(this,a,null);if(null!=r&&e===t.executionId)this.isValid.setValue(!0,t),this.value.setValue(r,t);else try{let e=this._doOperation(t);if(null==e){this.isValid.setValue(!1,t);return}t._setExecutionVariable(this,a,e),t._setExecutionVariable(this,c,t.executionId),this.value.setValue(e,t),this.isValid.setValue(!0,t)}catch(e){this.isValid.setValue(!1,t)}}}},39547:function(t,e,r){r.d(e,{o:()=>s});var o=r(46954);class s extends o.D{constructor(t,e,r,o,s,a,c){super(o,c),this._operation=s,this._className=a,this.a=this.registerDataInput("a",t),this.b=this.registerDataInput("b",e),this.c=this.registerDataInput("c",r)}_doOperation(t){return this._operation(this.a.getValue(t),this.b.getValue(t),this.c.getValue(t))}getClassName(){return this._className}}},25163:function(t,e,r){r.d(e,{p:()=>s});var o=r(46954);class s extends o.D{constructor(t,e,r,o,s){super(e,s),this._operation=r,this._className=o,this.a=this.registerDataInput("a",t)}_doOperation(t){return this._operation(this.a.getValue(t))}getClassName(){return this._className}}}}]);