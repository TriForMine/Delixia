import{l as i,R as l,L as o,d as p}from"./index-BS2l1FY-.js";class n extends i{constructor(e){if(super(e),this.message=this.registerDataInput("message",l),this.logType=this.registerDataInput("logType",l,"log"),e!=null&&e.messageTemplate){const s=this._getTemplateMatches(e.messageTemplate);for(const t of s)this.registerDataInput(t,l)}}_execute(e){const s=this.logType.getValue(e),t=this._getMessageValue(e);s==="warn"?o.Warn(t):s==="error"?o.Error(t):o.Log(t),this.out._activateSignal(e)}getClassName(){return"FlowGraphConsoleLogBlock"}_getMessageValue(e){var s,t;if((s=this.config)!=null&&s.messageTemplate){let a=this.config.messageTemplate;const h=this._getTemplateMatches(a);for(const r of h){const g=(t=this.getDataInput(r))==null?void 0:t.getValue(e);g!==void 0&&(a=a.replace(new RegExp(`\\{${r}\\}`,"g"),g.toString()))}return a}else return this.message.getValue(e)}_getTemplateMatches(e){const s=/\{([^}]+)\}/g,t=[];let a;for(;(a=s.exec(e))!==null;)t.push(a[1]);return t}}p("FlowGraphConsoleLogBlock",n);export{n as FlowGraphConsoleLogBlock};
